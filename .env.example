# Qwen3-ASR Configuration

# ============================================
# Model Settings
# ============================================
MODEL_PATH=Qwen/Qwen3-ASR-1.7B
ALIGNER_PATH=Qwen/Qwen3-ForcedAligner-0.6B
DEVICE=cuda:0

# ============================================
# Inference Settings (Optimized for RTX 4090)
# ============================================
MAX_INFERENCE_BATCH_SIZE=16
MAX_NEW_TOKENS=256
USE_FLASH_ATTENTION=false

# ============================================
# Punctuation Settings for Sentence Segmentation
# ============================================
# Chinese: 。？！
# Japanese: 。？！
# Korean: . ? ! (also uses 。？！ in formal text)
# English: . ? !
# Vietnamese: . ? !
# Spanish/French/German: . ? ! ¿ ¡

# Primary endings - strong sentence breaks
# Chinese + Japanese + Korean + English + Spanish
PRIMARY_ENDINGS=。？！.?!¿¡

# All sentence endings including secondary punctuation
# Includes: semicolons, ellipsis, commas (for long sentences)
SENTENCE_ENDINGS=。？！.?!;；…，,、¿¡

# ============================================
# Language-specific Settings
# ============================================
# Supported languages: Chinese, English, Korean, Japanese, French, German, Spanish, etc.
DEFAULT_LANGUAGE=Chinese

# Maximum characters per subtitle line
MAX_CHARS_CHINESE=25
MAX_CHARS_KOREAN=40
MAX_CHARS_ENGLISH=80
MAX_CHARS_DEFAULT=50

# Pause threshold for sentence break (seconds)
PAUSE_THRESHOLD=0.3

# Minimum characters before allowing pause-based break
MIN_CHARS_BEFORE_BREAK=8

# ============================================
# Duration and Gap Settings (NEW)
# ============================================
# Maximum duration for a single subtitle (seconds)
# If subtitle exceeds this, it will be split
MAX_SUBTITLE_DURATION=15.0

# Maximum pause gap between words (seconds)
# If gap > this, force split even within same sentence
MAX_PAUSE_GAP=1.5

# ============================================
# Chunk Settings for Long Audio
# ============================================
# Maximum seconds per audio chunk for ASR inference
# Lower = more accurate but slower, Higher = faster but may miss content
# Default: 180 (3 minutes). Recommended: 60-90 for better accuracy
MAX_CHUNK_SECONDS=60

CONFIG_FILE=config.txt